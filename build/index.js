module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,u=!1,a=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){u=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(u)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(1),o=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t,n,r=(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://ip.nf/me.json");case 2:e.sent.json().then((function(e){return b(e.ip.ip)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e,this)})),n=function(){var e=t.apply(this,arguments);return new Promise((function(t,n){return function r(u,a){try{var o=e[u](a),i=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(i).then((function(e){r("next",e)}),(function(e){r("throw",e)}));t(i)}("next")}))},function(){return n.apply(this,arguments)}),i=(0,a.useState)(""),l=u(i,2),s=l[0],c=l[1],f=(0,a.useState)(!1),m=u(f,2),d=m[0],p=m[1],v=(0,a.useState)(""),y=u(v,2),h=y[0],b=y[1],g=[{name:"email",value:""+s}];(0,a.useEffect)((function(){if(r(),e.fields){var t=e.fields.map((function(e){return{name:e.name,value:e.value}}));g.concat(t)}}),[]);return o.default.createElement("form",{className:e.formClass,onSubmit:function(t){t.preventDefault();var n="https://api.hsforms.com/submissions/v3/integration/submit/"+e.portalId+"/"+e.formId,r=document.cookie.split(";").reduce((function(e,t){var n=t.split("=").map((function(e){return e.trim()})),r=u(n,2),a=r[0],o=r[1];return e[a]=o,e}),{}),a={fields:g,context:{hutk:r.hubspotutk,pageUri:""+e.pageUri,pageName:""+e.pageName,ipAddress:""+h}};fetch(n,{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return console.log("success",e)})).catch((function(e){return console.log("error: ",e)})),p(!0),c(""),e.onSubmit()}},o.default.createElement("label",{htmlFor:"email"},"Email address"),o.default.createElement("input",{className:e.inputClass,type:"email",name:"email",placeholder:"Enter your email address",onChange:function(e){c(e.target.value)},value:s,required:!0}),e.fields&&o.default.createElement("div",{className:e.divClass},e.fields.map((function(e){return o.default.createElement("input",{type:e.type,id:e.name,name:e.name,value:e.value,placeholder:e.name,readOnly:!0})}))),d?o.default.createElement("p",null,e.submitMessage):o.default.createElement("input",{className:e.submitButtonClass,value:e.submitButtonValue,id:e.submitButtonId,type:"submit"}))}},function(e,t){e.exports=require("react")}]);